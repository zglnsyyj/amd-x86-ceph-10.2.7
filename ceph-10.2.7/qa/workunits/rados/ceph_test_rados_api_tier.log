[==========] Running 46 tests from 4 test cases.
[----------] Global test environment set-up.
[----------] 3 tests from LibRadosTierPP
[ RUN      ] LibRadosTierPP.Dirty
[       OK ] LibRadosTierPP.Dirty (16144 ms)
[ RUN      ] LibRadosTierPP.FlushWriteRaces
[       OK ] LibRadosTierPP.FlushWriteRaces (15661 ms)
[ RUN      ] LibRadosTierPP.HitSetNone
[       OK ] LibRadosTierPP.HitSetNone (40 ms)
[----------] 3 tests from LibRadosTierPP (31845 ms total)

[----------] 21 tests from LibRadosTwoPoolsPP
[ RUN      ] LibRadosTwoPoolsPP.Overlay
[       OK ] LibRadosTwoPoolsPP.Overlay (10740 ms)
[ RUN      ] LibRadosTwoPoolsPP.Promote
[       OK ] LibRadosTwoPoolsPP.Promote (6962 ms)
[ RUN      ] LibRadosTwoPoolsPP.PromoteSnap
[       OK ] LibRadosTwoPoolsPP.PromoteSnap (11194 ms)
[ RUN      ] LibRadosTwoPoolsPP.PromoteSnapScrub
my_snaps [4]
my_snaps [5,4]
my_snaps [6,5,4]
my_snaps [7,6,5,4]
promoting some heads
promoting from clones for snap 7
promoting from clones for snap 6
promoting from clones for snap 5
promoting from clones for snap 4
waiting for scrubs...
done waiting
[       OK ] LibRadosTwoPoolsPP.PromoteSnapScrub (64742 ms)
[ RUN      ] LibRadosTwoPoolsPP.PromoteSnapTrimRace
[       OK ] LibRadosTwoPoolsPP.PromoteSnapTrimRace (9388 ms)
[ RUN      ] LibRadosTwoPoolsPP.Whiteout
[       OK ] LibRadosTwoPoolsPP.Whiteout (13732 ms)
[ RUN      ] LibRadosTwoPoolsPP.WhiteoutDeleteCreate
[       OK ] LibRadosTwoPoolsPP.WhiteoutDeleteCreate (16602 ms)
[ RUN      ] LibRadosTwoPoolsPP.Evict
[       OK ] LibRadosTwoPoolsPP.Evict (7230 ms)
[ RUN      ] LibRadosTwoPoolsPP.EvictSnap
[       OK ] LibRadosTwoPoolsPP.EvictSnap (9326 ms)
[ RUN      ] LibRadosTwoPoolsPP.EvictSnap2
[       OK ] LibRadosTwoPoolsPP.EvictSnap2 (8436 ms)
[ RUN      ] LibRadosTwoPoolsPP.TryFlush
[       OK ] LibRadosTwoPoolsPP.TryFlush (7217 ms)
[ RUN      ] LibRadosTwoPoolsPP.Flush
[       OK ] LibRadosTwoPoolsPP.Flush (7261 ms)
[ RUN      ] LibRadosTwoPoolsPP.FlushSnap
[       OK ] LibRadosTwoPoolsPP.FlushSnap (12404 ms)
[ RUN      ] LibRadosTwoPoolsPP.FlushTryFlushRaces
[       OK ] LibRadosTwoPoolsPP.FlushTryFlushRaces (7251 ms)
[ RUN      ] LibRadosTwoPoolsPP.TryFlushReadRace
[       OK ] LibRadosTwoPoolsPP.TryFlushReadRace (7465 ms)
[ RUN      ] LibRadosTwoPoolsPP.HitSetRead
hmm, no HitSet yet
ok, hit_set contains 412:602f83fe:::foo:head
[       OK ] LibRadosTwoPoolsPP.HitSetRead (8294 ms)
[ RUN      ] LibRadosTwoPoolsPP.HitSetWrite
pg_num = 8
pg 0 ls 1520233289,0
pg 1 ls 1520233289,0
pg 2 ls 1520233289,0
pg 3 ls 1520233289,0
pg 4 ls 1520233289,0
pg 5 ls 1520233289,0
pg 6 ls 1520233289,0
pg 7 ls 1520233289,0
pg_num = 8
checking for 414:6cac518f:::0:head
checking for 414:02547ec2:::1:head
checking for 414:f905c69b:::2:head
checking for 414:cfc208b3:::3:head
checking for 414:d83876eb:::4:head
checking for 414:b29083e3:::5:head
checking for 414:c4fdafeb:::6:head
checking for 414:5c6b0b28:::7:head
checking for 414:bd63b0f1:::8:head
checking for 414:e960b815:::9:head
checking for 414:52ea6a34:::10:head
checking for 414:89d3ae78:::11:head
checking for 414:de5d7c5f:::12:head
checking for 414:566253c9:::13:head
checking for 414:62a1935d:::14:head
checking for 414:863748b0:::15:head
checking for 414:3958e169:::16:head
checking for 414:4d4dabf9:::17:head
checking for 414:8391935d:::18:head
checking for 414:28883081:::19:head
checking for 414:69259c59:::20:head
checking for 414:4bdb80b7:::21:head
checking for 414:a11c5d71:::22:head
checking for 414:271af37b:::23:head
checking for 414:95b121be:::24:head
checking for 414:58d1031b:::25:head
checking for 414:0a050783:::26:head
checking for 414:c709704c:::27:head
checking for 414:cbe56eaf:::28:head
checking for 414:86b4b162:::29:head
checking for 414:70d89383:::30:head
checking for 414:dd450c7c:::31:head
checking for 414:6d5729b1:::32:head
checking for 414:c388f3fb:::33:head
checking for 414:56cfea31:::34:head
checking for 414:9dbc1bf7:::35:head
checking for 414:40b74ccd:::36:head
checking for 414:4d5aaf42:::37:head
checking for 414:920f362c:::38:head
checking for 414:6cc53222:::39:head
checking for 414:9cad833f:::40:head
checking for 414:1ea84d41:::41:head
checking for 414:c4480ef6:::42:head
checking for 414:a694361e:::43:head
checking for 414:d1bd33e9:::44:head
checking for 414:ddc2cd5d:::45:head
checking for 414:2b782207:::46:head
checking for 414:7b187fca:::47:head
checking for 414:90ecdf6f:::48:head
checking for 414:a5ed95fe:::49:head
checking for 414:ea0eaa55:::50:head
checking for 414:f33ef17b:::51:head
checking for 414:a0d1b2f6:::52:head
checking for 414:60c5229e:::53:head
checking for 414:edcbc575:::54:head
checking for 414:102cf253:::55:head
checking for 414:efb7fb0b:::56:head
checking for 414:50d0a326:::57:head
checking for 414:d4dc5daf:::58:head
checking for 414:3a130462:::59:head
checking for 414:ec87ed71:::60:head
checking for 414:d5bc9454:::61:head
checking for 414:3ddfe313:::62:head
checking for 414:7c2816b9:::63:head
checking for 414:47e00e4d:::64:head
checking for 414:c6410c18:::65:head
checking for 414:b48ed237:::66:head
checking for 414:cd63ad31:::67:head
checking for 414:b179e92b:::68:head
checking for 414:0d9f741a:::69:head
checking for 414:6d3352ae:::70:head
checking for 414:c6d5c19e:::71:head
checking for 414:bc4729c3:::72:head
checking for 414:77e930b9:::73:head
checking for 414:0abeecfd:::74:head
checking for 414:b7c37e15:::75:head
checking for 414:b6378398:::76:head
checking for 414:02bd68de:::77:head
checking for 414:cc795d2d:::78:head
checking for 414:630d4fea:::79:head
checking for 414:e0d29ef5:::80:head
checking for 414:fd6f13d2:::81:head
checking for 414:606461d5:::82:head
checking for 414:eadbdc43:::83:head
checking for 414:8761d0bb:::84:head
checking for 414:9ef0186f:::85:head
checking for 414:e0d41294:::86:head
checking for 414:961de695:::87:head
checking for 414:1423148f:::88:head
checking for 414:633a8fa2:::89:head
checking for 414:a8653809:::90:head
checking for 414:3dac8b33:::91:head
checking for 414:35aad435:::92:head
checking for 414:f6dcc343:::93:head
checking for 414:dbbdad87:::94:head
checking for 414:1cb48ce0:::95:head
checking for 414:03cd461c:::96:head
checking for 414:17a4ea99:::97:head
checking for 414:9993c9a7:::98:head
checking for 414:6394211c:::99:head
checking for 414:94c7ae57:::100:head
checking for 414:6fdee5bb:::101:head
checking for 414:9a477fd1:::102:head
checking for 414:eb850916:::103:head
checking for 414:affc56b9:::104:head
checking for 414:b42dc814:::105:head
checking for 414:f319f8f0:::106:head
checking for 414:9a40b9de:::107:head
checking for 414:8b524f28:::108:head
checking for 414:e3de589f:::109:head
checking for 414:90f90a5b:::110:head
checking for 414:a7b4f1d7:::111:head
checking for 414:af51766e:::112:head
checking for 414:b6f90bd1:::113:head
checking for 414:e0261208:::114:head
checking for 414:c9569ef7:::115:head
checking for 414:61bebe50:::116:head
checking for 414:fe93412b:::117:head
checking for 414:d3d38bee:::118:head
checking for 414:3100ba0c:::119:head
checking for 414:d0560ada:::120:head
checking for 414:f0ea8b35:::121:head
checking for 414:766f231a:::122:head
checking for 414:a07a2582:::123:head
checking for 414:bd7c6b3a:::124:head
checking for 414:fb2ddaff:::125:head
checking for 414:4408e1fe:::126:head
checking for 414:ee1df7a7:::127:head
checking for 414:c3002909:::128:head
checking for 414:4f48ffa9:::129:head
checking for 414:edf38733:::130:head
checking for 414:c08425c0:::131:head
checking for 414:5f902d98:::132:head
checking for 414:41ea2c93:::133:head
checking for 414:813cee13:::134:head
checking for 414:0131818d:::135:head
checking for 414:26ba5a85:::136:head
checking for 414:381b8a5a:::137:head
checking for 414:28797e47:::138:head
checking for 414:bfca7f22:::139:head
checking for 414:36807075:::140:head
checking for 414:80b03975:::141:head
checking for 414:5c15709b:::142:head
checking for 414:f39ea15e:::143:head
checking for 414:ea992956:::144:head
checking for 414:48887b1c:::145:head
checking for 414:9f24a9dd:::146:head
checking for 414:987f100b:::147:head
checking for 414:d2dd3581:::148:head
checking for 414:7fed1808:::149:head
checking for 414:c80b70e9:::150:head
checking for 414:85ed90f9:::151:head
checking for 414:36428b24:::152:head
checking for 414:d044c34a:::153:head
checking for 414:7c18bf58:::154:head
checking for 414:d1c21232:::155:head
checking for 414:a7a3c575:::156:head
checking for 414:87da0633:::157:head
checking for 414:d5ac3822:::158:head
checking for 414:3f20522d:::159:head
checking for 414:6ca26563:::160:head
checking for 414:532ce135:::161:head
checking for 414:c78863e6:::162:head
checking for 414:7462ddf6:::163:head
checking for 414:5d165639:::164:head
checking for 414:f43765fc:::165:head
checking for 414:b4c720e9:::166:head
checking for 414:e694b040:::167:head
checking for 414:afa38db2:::168:head
checking for 414:77ba9f53:::169:head
checking for 414:87495034:::170:head
checking for 414:7c96bf0e:::171:head
checking for 414:dbe346cc:::172:head
checking for 414:e943ec24:::173:head
checking for 414:f97a9c0c:::174:head
checking for 414:6f26e74d:::175:head
checking for 414:4f95e106:::176:head
checking for 414:0e6f2f8f:::177:head
checking for 414:05db05f1:::178:head
checking for 414:38a78d66:::179:head
checking for 414:d095610b:::180:head
checking for 414:a1a9d709:::181:head
checking for 414:1e5d39db:::182:head
checking for 414:f7df4fb9:::183:head
checking for 414:03a7f161:::184:head
checking for 414:ba70721e:::185:head
checking for 414:28e5662d:::186:head
checking for 414:973d52de:::187:head
checking for 414:4303eb1c:::188:head
checking for 414:b990b48e:::189:head
checking for 414:29b8165b:::190:head
checking for 414:3547f197:::191:head
checking for 414:7e260936:::192:head
checking for 414:1abec7b1:::193:head
checking for 414:10fdda93:::194:head
checking for 414:15817eea:::195:head
checking for 414:770bab57:::196:head
checking for 414:ed9e13e7:::197:head
checking for 414:71471a8f:::198:head
checking for 414:10fb1d02:::199:head
[       OK ] LibRadosTwoPoolsPP.HitSetWrite (8262 ms)
[ RUN      ] LibRadosTwoPoolsPP.HitSetTrim
 got ls 1520233299,0
first is 1520233299
 got ls 1520233299,0
 got ls 1520233299,0
 got ls 1520233299,1520233301,1520233302,0
 got ls 1520233299,1520233301,1520233302,0
 got ls 1520233299,1520233301,1520233302,0
 got ls 1520233299,1520233301,1520233302,1520233304,1520233305,0
 got ls 1520233299,1520233301,1520233302,1520233304,1520233305,0
 got ls 1520233299,1520233301,1520233302,1520233304,1520233305,0
 got ls 1520233299,1520233301,1520233302,1520233304,1520233305,1520233307,1520233308,0
 got ls 1520233299,1520233301,1520233302,1520233304,1520233305,1520233307,1520233308,0
 got ls 1520233299,1520233301,1520233302,1520233304,1520233305,1520233307,1520233308,0
 got ls 1520233302,1520233304,1520233305,1520233307,1520233308,1520233310,1520233311,0
first now 1520233302, trimmed
[       OK ] LibRadosTwoPoolsPP.HitSetTrim (20024 ms)
[ RUN      ] LibRadosTwoPoolsPP.PromoteOn2ndRead
foo0
verifying foo0 is eventually promoted
[       OK ] LibRadosTwoPoolsPP.PromoteOn2ndRead (14586 ms)
[ RUN      ] LibRadosTwoPoolsPP.ProxyRead
[       OK ] LibRadosTwoPoolsPP.ProxyRead (16571 ms)
[ RUN      ] LibRadosTwoPoolsPP.CachePin
[       OK ] LibRadosTwoPoolsPP.CachePin (21745 ms)
[----------] 21 tests from LibRadosTwoPoolsPP (289434 ms total)

[----------] 4 tests from LibRadosTierECPP
[ RUN      ] LibRadosTierECPP.Dirty
[       OK ] LibRadosTierECPP.Dirty (1274 ms)
[ RUN      ] LibRadosTierECPP.FlushWriteRaces
[       OK ] LibRadosTierECPP.FlushWriteRaces (9212 ms)
[ RUN      ] LibRadosTierECPP.CallForcesPromote
[       OK ] LibRadosTierECPP.CallForcesPromote (15563 ms)
[ RUN      ] LibRadosTierECPP.HitSetNone
[       OK ] LibRadosTierECPP.HitSetNone (11 ms)
[----------] 4 tests from LibRadosTierECPP (26061 ms total)

[----------] 18 tests from LibRadosTwoPoolsECPP
[ RUN      ] LibRadosTwoPoolsECPP.Overlay
[       OK ] LibRadosTwoPoolsECPP.Overlay (7269 ms)
[ RUN      ] LibRadosTwoPoolsECPP.Promote
[       OK ] LibRadosTwoPoolsECPP.Promote (7295 ms)
[ RUN      ] LibRadosTwoPoolsECPP.PromoteSnap
waiting for scrub...
done waiting
[       OK ] LibRadosTwoPoolsECPP.PromoteSnap (24744 ms)
[ RUN      ] LibRadosTwoPoolsECPP.PromoteSnapTrimRace
[       OK ] LibRadosTwoPoolsECPP.PromoteSnapTrimRace (9337 ms)
[ RUN      ] LibRadosTwoPoolsECPP.Whiteout
[       OK ] LibRadosTwoPoolsECPP.Whiteout (11416 ms)
[ RUN      ] LibRadosTwoPoolsECPP.Evict
[       OK ] LibRadosTwoPoolsECPP.Evict (7334 ms)
[ RUN      ] LibRadosTwoPoolsECPP.EvictSnap
[       OK ] LibRadosTwoPoolsECPP.EvictSnap (9395 ms)
[ RUN      ] LibRadosTwoPoolsECPP.TryFlush
[       OK ] LibRadosTwoPoolsECPP.TryFlush (8448 ms)
[ RUN      ] LibRadosTwoPoolsECPP.FailedFlush
[       OK ] LibRadosTwoPoolsECPP.FailedFlush (15051 ms)
[ RUN      ] LibRadosTwoPoolsECPP.Flush
[       OK ] LibRadosTwoPoolsECPP.Flush (10325 ms)
[ RUN      ] LibRadosTwoPoolsECPP.FlushSnap
[       OK ] LibRadosTwoPoolsECPP.FlushSnap (14473 ms)
[ RUN      ] LibRadosTwoPoolsECPP.FlushTryFlushRaces
[       OK ] LibRadosTwoPoolsECPP.FlushTryFlushRaces (7277 ms)
[ RUN      ] LibRadosTwoPoolsECPP.TryFlushReadRace
[       OK ] LibRadosTwoPoolsECPP.TryFlushReadRace (7243 ms)
[ RUN      ] LibRadosTwoPoolsECPP.HitSetRead
hmm, no HitSet yet
hmm, no HitSet yet
ok, hit_set contains 459:602f83fe:::foo:head
[       OK ] LibRadosTwoPoolsECPP.HitSetRead (9282 ms)
[ RUN      ] LibRadosTwoPoolsECPP.HitSetTrim
 got ls 1520233557,0
first is 1520233557
 got ls 1520233557,0
 got ls 1520233557,0
 got ls 1520233557,1520233559,1520233560,0
 got ls 1520233557,1520233559,1520233560,0
 got ls 1520233557,1520233559,1520233560,0
 got ls 1520233557,1520233559,1520233560,1520233562,1520233563,0
 got ls 1520233557,1520233559,1520233560,1520233562,1520233563,0
 got ls 1520233557,1520233559,1520233560,1520233562,1520233563,0
 got ls 1520233557,1520233559,1520233560,1520233562,1520233563,1520233565,1520233566,0
 got ls 1520233557,1520233559,1520233560,1520233562,1520233563,1520233565,1520233566,0
 got ls 1520233557,1520233559,1520233560,1520233562,1520233563,1520233565,1520233566,0
 got ls 1520233560,1520233562,1520233563,1520233565,1520233566,1520233568,1520233569,0
first now 1520233560, trimmed
[       OK ] LibRadosTwoPoolsECPP.HitSetTrim (20374 ms)
[ RUN      ] LibRadosTwoPoolsECPP.PromoteOn2ndRead
foo0
verifying foo0 is eventually promoted
[       OK ] LibRadosTwoPoolsECPP.PromoteOn2ndRead (13514 ms)
[ RUN      ] LibRadosTwoPoolsECPP.ProxyRead
[       OK ] LibRadosTwoPoolsECPP.ProxyRead (16542 ms)
[ RUN      ] LibRadosTwoPoolsECPP.CachePin
[       OK ] LibRadosTwoPoolsECPP.CachePin (21638 ms)
[----------] 18 tests from LibRadosTwoPoolsECPP (220958 ms total)

[----------] Global test environment tear-down
[==========] 46 tests from 4 test cases ran. (586734 ms total)
[  PASSED  ] 46 tests.
